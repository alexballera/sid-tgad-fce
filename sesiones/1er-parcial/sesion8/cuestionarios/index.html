<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Exámenes de práctica sobre Fundamentos de Bases de Datos, SGBD y modelos de datos - Sesión 8 FCE">
    <meta name="keywords" content="base de datos, SGBD, SQL, modelo relacional, FCE, DBA">
    <meta name="author" content="Fundamentos de Datos FCE - UBA">
    <title>Exámenes de Práctica - Fundamentos de Bases de Datos - Sesión 8 FCE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }
        .card {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #4f46e5 0%, #a78bfa 100%);
        }
        .quiz-button {
            transition: background-color 0.2s, transform 0.1s;
        }
        .quiz-button:hover {
            background-color: #4338ca;
            transform: translateY(-2px);
        }
        .quiz-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .answer-button {
            width: 100%;
            background-color: #e5e7eb;
            color: #1f2937;
            text-align: left;
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 500;
            transition: background-color 0.2s, transform 0.1s;
        }
        .answer-button:hover:not(:disabled) {
            background-color: #d1d5db;
        }
        .answer-button.correct {
            background-color: #10b981;
            color: white;
            animation: pulse-correct 0.8s;
        }
        .answer-button.incorrect {
            background-color: #ef4444;
            color: white;
            animation: shake 0.5s;
        }
        .explanation {
            background-color: #f0f4f8;
            border-left: 4px solid #4f46e5;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 0.5rem;
        }
        @keyframes pulse-correct {
            0% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(16, 185, 129, 0); }
            100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div id="app" class="container bg-white p-8 rounded-2xl shadow-xl w-full">
        <!-- Pantalla de selección de cuestionarios -->
        <div id="quiz-selection-screen">
            <h1 class="text-3xl font-bold text-center mb-4 text-indigo-700">Selecciona un Examen de Práctica - Sesión 8</h1>
            <p class="text-center text-gray-600 mb-8">Cada examen contiene 15 preguntas aleatorias sobre los fundamentos de las bases de datos y los SGBD. ¡Mucha suerte!</p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6">
                <button onclick="startQuiz(0)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 1</button>
                <button onclick="startQuiz(1)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 2</button>
                <button onclick="startQuiz(2)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 3</button>
                <button onclick="startQuiz(3)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 4</button>
                <button onclick="startQuiz(4)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 5</button>
                <button onclick="startQuiz(5)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 6</button>
                <button onclick="startQuiz(6)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 7</button>
                <button onclick="startQuiz(7)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 8</button>
                <button onclick="startQuiz(8)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 9</button>
                <button onclick="startQuiz(9)" class="card p-6 text-center gradient-bg text-white font-bold text-xl rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none">Examen de Práctica 10</button>
            </div>
        </div>

        <!-- Pantalla del cuestionario -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-6">
                <div class="text-lg font-semibold text-gray-700">Pregunta <span id="current-question-number"></span> de 15</div>
                <div class="text-lg font-semibold text-gray-700">Puntaje: <span id="score">0</span></div>
            </div>
            <div class="card p-6 mb-6">
                <h2 id="question" class="text-xl font-semibold text-gray-900 mb-6"></h2>
                <div id="options-container" class="space-y-4"></div>
            </div>
            <div id="feedback-message" class="text-center p-4 my-4 rounded-lg font-semibold hidden"></div>
            <button id="next-button" class="quiz-button w-full py-4 mt-6 gradient-bg text-white font-bold text-lg rounded-lg shadow-md focus:outline-none" onclick="nextQuestion()" disabled>Siguiente</button>
        </div>

        <!-- Pantalla de resultados -->
        <div id="results-screen" class="hidden text-center">
            <h1 class="text-3xl font-bold text-indigo-700 mb-4">¡Examen Completo!</h1>
            <p class="text-xl text-gray-700 mb-6">Tu puntaje final es:</p>
            <div class="text-5xl font-extrabold text-white gradient-bg p-8 rounded-full inline-block shadow-lg mb-8">
                <span id="final-score"></span>
                <span class="block text-2xl font-normal mt-2">de 15</span>
            </div>
            <p class="text-lg text-gray-600 mb-4">¡Sigue practicando para dominar los fundamentos de las bases de datos!</p>
            <button class="quiz-button py-4 px-8 mt-4 bg-indigo-600 text-white font-bold text-lg rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none" onclick="restartQuiz()">Volver a la selección</button>
        </div>
    </div>

    <script>
        // BANCO DE PREGUNTAS INTEGRADO - SESIÓN 8: FUNDAMENTOS DE BASES DE DATOS
        const allQuestions = [
            {
                question: "¿Cuál es la definición de una base de datos?",
                options: [
                    "Una colección de programas para gestionar datos.",
                    "Una colección de datos lógicamente coherentes con un significado inherente.",
                    "Un único archivo que contiene todo tipo de información sin estructura.",
                    "El hardware utilizado para almacenar archivos de una empresa."
                ],
                answer: 1,
                explanation: "Una base de datos es una colección estructurada de datos que están lógicamente relacionados y tienen un significado propio, diseñada para un propósito específico."
            },
            {
                question: "¿Qué es un Sistema de Gestión de Bases de Datos (SGBD o DBMS)?",
                options: [
                    "La base de datos en sí misma.",
                    "Un conjunto de programas que permite a los usuarios crear y mantener una base de datos.",
                    "Una aplicación de hoja de cálculo como Excel.",
                    "El lenguaje de programación utilizado para escribir aplicaciones."
                ],
                answer: 1,
                explanation: "Un SGBD es el software que facilita la definición, construcción, manipulación y compartición de bases de datos entre diversos usuarios y aplicaciones."
            },
            {
                question: "¿Cuáles son las cuatro acciones principales que involucra el proceso de una base de datos?",
                options: [
                    "Instalar, configurar, actualizar y eliminar.",
                    "Definir, construir, manipular y compartir.",
                    "Programar, compilar, ejecutar y depurar.",
                    "Diseñar, imprimir, escanear y archivar."
                ],
                answer: 1,
                explanation: "El proceso completo de una base de datos incluye: 1) Definir los tipos de datos y estructuras, 2) Construir almacenando los datos, 3) Manipular con consultas y actualizaciones, y 4) Compartir el acceso."
            },
            {
                question: "¿Qué implica la 'definición' de una base de datos?",
                options: [
                    "Introducir datos de ejemplo en la base de datos.",
                    "Especificar los tipos de datos, las estructuras y las restricciones de los datos a almacenar.",
                    "Realizar consultas para obtener información.",
                    "Crear una copia de seguridad de la base de datos."
                ],
                answer: 1,
                explanation: "La definición de una base de datos implica la creación de su catálogo (metadatos), donde se especifican los tipos, estructuras y restricciones de los datos."
            },
            {
                question: "El enfoque de base de datos elimina gran parte de la redundancia de datos presente en el enfoque de procesamiento de archivos. ¿Verdadero o Falso?",
                options: [
                    "Verdadero",
                    "Falso"
                ],
                answer: 0,
                explanation: "Verdadero. Una de las principales ventajas del enfoque de base de datos es que permite controlar la redundancia al integrar los archivos para que múltiples aplicaciones puedan acceder a los mismos datos."
            },
            {
                question: "¿Quién es el responsable principal de autorizar el acceso a la base de datos y coordinar su uso?",
                options: [
                    "El programador de aplicaciones.",
                    "El usuario final.",
                    "El administrador de la base de datos (DBA).",
                    "El diseñador de la base de datos."
                ],
                answer: 2,
                explanation: "El Administrador de la Base de Datos (DBA) es la persona o equipo encargado de la administración general del SGBD, incluyendo el control de acceso, monitoreo y adquisición de recursos."
            },
            {
                question: "¿Cuál es la principal función de un diseñador de bases de datos?",
                options: [
                    "Escribir programas de aplicación que usan la base de datos.",
                    "Identificar los datos a almacenar y elegir las estructuras apropiadas para representarlos.",
                    "Realizar consultas y generar informes para su propio uso.",
                    "Instalar y actualizar el software del SGBD."
                ],
                answer: 1,
                explanation: "Los diseñadores de bases de datos son responsables de la estructura de la base de datos. Deben entender los requisitos de los usuarios y diseñar la base de datos para satisfacerlos."
            },
            {
                question: "¿Qué es una de las principales desventajas del enfoque de procesamiento de archivos tradicional?",
                options: [
                    "Los datos son compartidos fácilmente entre aplicaciones.",
                    "Existe un control centralizado de los datos.",
                    "Cada aplicación tiene sus propios archivos privados, lo que lleva a la redundancia y la inconsistencia.",
                    "Es muy seguro y restringe bien el acceso no autorizado."
                ],
                answer: 2,
                explanation: "En el procesamiento de archivos, cada aplicación mantiene sus propios datos, lo que duplica la información (redundancia) y puede causar inconsistencias si un dato se actualiza en un archivo pero no en otro."
            },
            {
                question: "La capacidad de cambiar el esquema físico sin tener que modificar los programas de aplicación se conoce como:",
                options: [
                    "Aislamiento de datos.",
                    "Abstracción de datos.",
                    "Independencia físico-lógica de los datos.",
                    "Control de concurrencia."
                ],
                answer: 2,
                explanation: "La independencia físico-lógica de los datos es una característica clave de los SGBD que permite modificar la organización física de los datos sin afectar a los esquemas de nivel superior ni a las aplicaciones."
            },
            {
                question: "¿Qué tipo de usuario de base de datos es un analista de negocios o un ingeniero que utiliza la base de datos para su trabajo?",
                options: [
                    "Usuario final ingenuo o paramétrico.",
                    "Usuario final sofisticado.",
                    "Desarrollador de SGBD.",
                    "Administrador de la base de datos (DBA)."
                ],
                answer: 1,
                explanation: "Los usuarios finales sofisticados, como ingenieros o científicos, conocen las funcionalidades del SGBD y utilizan sus herramientas para realizar consultas complejas que satisfagan sus propias necesidades."
            },
            {
                question: "¿Cuál de las siguientes es una ventaja de usar un SGBD?",
                options: [
                    "Costos iniciales de hardware y software muy bajos.",
                    "Simplicidad en la gestión de copias de seguridad y recuperación.",
                    "Restricción del acceso no autorizado y provisión de almacenamiento persistente.",
                    "No requiere personal especializado para su administración."
                ],
                answer: 2,
                explanation: "Entre las múltiples ventajas de un SGBD se encuentran su capacidad para implementar seguridad y autorizaciones de acceso, y proporcionar almacenamiento persistente para los objetos y estructuras de datos del programa."
            },
            {
                question: "¿Qué son los 'metadatos' en el contexto de una base de datos?",
                options: [
                    "Los datos de los usuarios finales.",
                    "La información sobre la estructura de la base de datos, como los tipos de datos y las restricciones.",
                    "Las consultas SQL que se ejecutan con más frecuencia.",
                    "Los archivos de registro de transacciones del SGBD."
                ],
                answer: 1,
                explanation: "Los metadatos son los 'datos acerca de los datos'. Describen la estructura de la base de datos y se almacenan en el catálogo del SGBD."
            },
            {
                question: "El control de la concurrencia en un SGBD asegura que:",
                options: [
                    "Solo un usuario pueda acceder a la base de datos a la vez.",
                    "Las interacciones de múltiples usuarios que acceden simultáneamente a la base de datos no generen inconsistencias.",
                    "La base de datos se ejecute más rápido.",
                    "Todos los datos estén encriptados."
                ],
                answer: 1,
                explanation: "El control de concurrencia es crucial en sistemas multiusuario para garantizar que las actualizaciones y consultas concurrentes se realicen de manera controlada y no dejen la base de datos en un estado inconsistente."
            },
            {
                question: "¿Cuándo podría NO ser recomendable utilizar un SGBD?",
                options: [
                    "Cuando los datos deben ser compartidos por múltiples usuarios.",
                    "Cuando se necesita un control de acceso complejo.",
                    "Para una base de datos simple, con pocos usuarios y requisitos de rendimiento no rigurosos.",
                    "Cuando se requiere integridad de los datos."
                ],
                answer: 2,
                explanation: "Si la base de datos y las aplicaciones son simples, bien definidas y no se espera que cambien, y no hay necesidad de acceso multiusuario, la sobrecarga de un SGBD puede no ser necesaria."
            },
            {
                question: "¿Qué es la 'abstracción de datos' en el contexto de los SGBD?",
                options: [
                    "El proceso de eliminar datos innecesarios de la base de datos.",
                    "La característica que permite ocultar los detalles de cómo se almacenan y mantienen los datos.",
                    "La creación de resúmenes y agregaciones de datos.",
                    "La encriptación de todos los datos almacenados."
                ],
                answer: 1,
                explanation: "La abstracción de datos permite a los usuarios interactuar con un modelo de datos conceptual sin preocuparse por los detalles de bajo nivel del almacenamiento físico, simplificando la interacción."
            }
        ];

        let quizzes = [];
        let currentQuiz;
        let currentQuestionIndex = 0;
        let score = 0;

        const quizSelectionScreen = document.getElementById('quiz-selection-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const questionElement = document.getElementById('question');
        const optionsContainer = document.getElementById('options-container');
        const currentQuestionNumberElement = document.getElementById('current-question-number');
        const scoreElement = document.getElementById('score');
        const nextButton = document.getElementById('next-button');
        const feedbackMessage = document.getElementById('feedback-message');
        const finalScoreElement = document.getElementById('final-score');

        // Función para mezclar un array de forma aleatoria (algoritmo Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        // Función para generar los 10 exámenes, cada uno con 15 preguntas aleatorias
        function generateQuizzes() {
            quizzes = [];
            for (let i = 0; i < 10; i++) {
                shuffleArray(allQuestions);
                const selectedQuestions = allQuestions.slice(0, 15);
                quizzes.push({
                    title: `Examen de Práctica ${i + 1}`,
                    questions: selectedQuestions
                });
            }
        }

        // Inicia un examen específico por su índice
        function startQuiz(quizIndex) {
            currentQuiz = quizzes[quizIndex];
            currentQuestionIndex = 0;
            score = 0;
            
            quizSelectionScreen.classList.add('hidden');
            resultsScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');

            showQuestion();
        }

        // Muestra la pregunta actual y sus opciones
        function showQuestion() {
            const currentQuestionData = currentQuiz.questions[currentQuestionIndex];

            currentQuestionNumberElement.textContent = currentQuestionIndex + 1;
            scoreElement.textContent = score;
            questionElement.textContent = currentQuestionData.question;
            optionsContainer.innerHTML = '';
            feedbackMessage.classList.add('hidden');
            feedbackMessage.innerHTML = '';
            nextButton.disabled = true;

            const options = [...currentQuestionData.options];
            
            options.forEach((option, index) => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('answer-button', 'block');
                button.onclick = () => checkAnswer(button, index);
                optionsContainer.appendChild(button);
            });
        }

        // Verifica la respuesta seleccionada
        function checkAnswer(selectedButton, selectedIndex) {
            const currentQuestionData = currentQuiz.questions[currentQuestionIndex];
            const correctIndex = currentQuestionData.answer;

            // Deshabilitar todos los botones de opciones para evitar cambios
            Array.from(optionsContainer.children).forEach((button) => {
                button.disabled = true;
            });
            
            // Marcar la respuesta correcta con verde
            optionsContainer.children[correctIndex].classList.add('correct');

            if (selectedIndex === correctIndex) {
                score++;
                feedbackMessage.textContent = '¡Respuesta Correcta!';
                feedbackMessage.classList.remove('hidden', 'bg-red-100', 'text-red-700');
                feedbackMessage.classList.add('bg-green-100', 'text-green-700');
            } else {
                // Marcar la respuesta incorrecta con rojo
                selectedButton.classList.add('incorrect');
                feedbackMessage.innerHTML = `
                    <div class="font-bold mb-2">¡Respuesta Incorrecta!</div>
                    <div class="explanation">
                        <strong class="text-indigo-700">Explicación:</strong>
                        <p class="text-sm mt-1 text-gray-700">${currentQuestionData.explanation}</p>
                    </div>
                `;
                feedbackMessage.classList.remove('hidden', 'bg-green-100', 'text-green-700');
                feedbackMessage.classList.add('bg-red-100', 'text-red-700');
            }

            feedbackMessage.classList.remove('hidden');
            scoreElement.textContent = score;
            nextButton.disabled = false;
            nextButton.focus();
        }

        // Pasa a la siguiente pregunta o finaliza el examen
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuiz.questions.length) {
                showQuestion();
            } else {
                endQuiz();
            }
        }

        // Muestra la pantalla de resultados finales
        function endQuiz() {
            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
            finalScoreElement.textContent = score;
        }

        // Vuelve a la pantalla de selección de cuestionarios
        function restartQuiz() {
            resultsScreen.classList.add('hidden');
            quizSelectionScreen.classList.remove('hidden');
            generateQuizzes(); // Regenerar los exámenes para que sean diferentes cada vez
        }

        // Inicializa la aplicación al cargar la página
        window.onload = function() {
            generateQuizzes();
            quizSelectionScreen.classList.remove('hidden');
        }
    </script>
</body>
</html>